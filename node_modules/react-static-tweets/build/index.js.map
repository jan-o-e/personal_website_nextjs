{"version":3,"file":"index.js","sources":["../src/html/handlers.tsx","../src/html/node.tsx","../src/twitter-layout/components/containers.tsx","../src/twitter-layout/components/headings.tsx","../src/twitter-layout/components/text.tsx","../src/twitter-layout/components/code.tsx","../src/twitter-layout/components/anchor.tsx","../src/twitter-layout/components/lists.tsx","../src/twitter-layout/components/table.tsx","../src/twitter-layout/components/media.tsx","../src/twitter-layout/components/twitter.tsx","../src/twitter-layout/components/tweet/tweet-header.tsx","../src/format-number.ts","../src/twitter-layout/components/tweet/tweet-info.tsx","../src/twitter-layout/components/tweet/tweet.tsx","../src/twitter-layout/components/embedded-tweet.tsx","../src/twitter-layout/components/index.ts","../src/tweet.tsx"],"sourcesContent":["import React from 'react'\n\nfunction getContainerClassName(dataType) {\n  if (!dataType) return\n\n  const [type, count] = dataType.split(' ')\n\n  switch (type) {\n    case 'image-container':\n      return `image-container image-count-${count}`\n    case 'gif-container':\n    case 'video-container':\n      return type\n  }\n}\n\nexport default {\n  div(props, components, i) {\n    const { data } = props\n    const type = props.dataType || (data && data.type)\n\n    if (type === 'tweet') {\n      return (\n        <components.Tweet key={i} data={data}>\n          {props.children}\n        </components.Tweet>\n      )\n    }\n\n    if (type === 'poll-container') {\n      return <components.Poll key={i} data={data} />\n    }\n\n    const className = getContainerClassName(type)\n\n    return (\n      <components.div key={i} className={className} data={data}>\n        {props.children}\n      </components.div>\n    )\n  },\n\n  img({ dataType, ...props }, components, i) {\n    if (dataType === 'emoji-for-text') {\n      return <components.Emoji key={i} src={props.src} alt={props.alt} />\n    }\n\n    if (dataType === 'media-image') {\n      return <components.img key={i} {...props} />\n    }\n\n    return null\n  },\n\n  a(props, components, i) {\n    const type = props.dataType\n\n    if (type === 'mention') {\n      return (\n        <components.Mention\n          key={i}\n          href={props.href}\n          children={props.children}\n        />\n      )\n    }\n\n    if (type === 'hashtag') {\n      return (\n        <components.Hashtag\n          key={i}\n          href={props.href}\n          children={props.children}\n        />\n      )\n    }\n\n    if (type === 'cashtag') {\n      return (\n        <components.Cashtag\n          key={i}\n          href={props.href}\n          children={props.children}\n        />\n      )\n    }\n\n    if (type === 'quote-tweet') {\n      return <components.EmbeddedTweet key={i} href={props.href} />\n    }\n\n    return (\n      <components.a key={i} href={props.href} title={props.title}>\n        {props.children}\n      </components.a>\n    )\n  },\n\n  blockquote(props, components, i) {\n    if (process.env.NEXT_PUBLIC_TWITTER_LOAD_WIDGETS === 'true') {\n      const isEmbeddedTweet = props.className?.includes('twitter-tweet')\n\n      if (isEmbeddedTweet) {\n        return <components.EmbeddedTweet {...props} />\n      }\n    } else {\n      const ast = props.data?.ast\n\n      if (ast) {\n        return <components.EmbeddedTweet key={i} ast={ast[0]} />\n      }\n    }\n\n    return <components.Blockquote key={i} children={props.children} />\n  }\n}\n","import React from 'react'\nimport handlers from './handlers'\n\nconst defaultHandler = (name) => (props, components) => {\n  const Comp = components[name]\n  return Comp ? <Comp {...props} /> : React.createElement(name, props)\n}\n\nfunction handleNode(node, components, i = undefined) {\n  if (!node) {\n    return null\n  }\n\n  if (typeof node === 'string') {\n    return node\n  }\n\n  const handler = handlers[node.tag] || defaultHandler(node.tag)\n\n  if (!handler) {\n    console.error('tweet error missing handler for:', node)\n    return null\n  }\n\n  const { nodes } = node\n  const props = { ...node.props, key: i }\n\n  // Always send className as a string\n  if (props.className && Array.isArray(props.className)) {\n    props.className = props.className.join(' ')\n  }\n\n  if (node.data) {\n    props.data = node.data\n  }\n\n  if (nodes && Array.isArray(nodes)) {\n    props.children = nodes.map((node, i) => handleNode(node, components, i))\n  }\n\n  const element = handler(props, components, i, node)\n\n  if (!element) {\n    console.error('A handler returned null for:', node)\n  }\n\n  return element\n}\n\nexport default function Node({ components, node }) {\n  return handleNode(node, components)\n}\n","import React from 'react'\n\nexport const Div = (p) => <div className={p.className}>{p.children}</div>\n","import React from 'react'\n\nconst Permalink = ({ children, id }) => (\n  <span className='static-tweet-permalink'>\n    <span id={id}></span>\n    <a href={`#${id}`}>{children}</a>\n    <span className='permalink'>#</span>\n  </span>\n)\n\nexport const H1 = (p) => (\n  <h1 className='static-tweet-h1'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h1>\n)\n\nexport const H2 = (p) => (\n  <h2 className='static-tweet-h2'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h2>\n)\n\nexport const H3 = (p) => (\n  <h3 className='static-tweet-h3'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h3>\n)\n\nexport const H4 = (p) => (\n  <h4 className='static-tweet-h4'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h4>\n)\n\nexport const H5 = (p) => (\n  <h5 className='static-tweet-h5'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h5>\n)\n\nexport const H6 = (p) => (\n  <h6 className='static-tweet-h6'>\n    <Permalink id={p.data.id}>{p.children}</Permalink>\n  </h6>\n)\n","import React from 'react'\nimport cs from 'clsx'\n\nexport const P = ({ className = undefined, ...p }) => (\n  <p className='static-tweet-p' {...p} />\n)\n\nexport const Blockquote = ({ className = undefined, ...p }) => (\n  <blockquote className={cs('static-tweet-blockquote', className)} {...p} />\n)\n\nexport const Hr = ({ className = undefined, ...p }) => (\n  <hr className={cs('static-tweet-hr', className)} {...p} />\n)\n","import React from 'react'\n\nexport const Code = (p) => <code {...p} />\n\nexport const Pre = (p) => <pre {...p} />\n","import React from 'react'\nimport cs from 'clsx'\n\nconst PROTOCOL = /^(https?:|)\\/\\//\n\nconst beautifyHref = (href) => {\n  const text = href.replace(PROTOCOL, '')\n  const i = text.indexOf('/')\n\n  if (i === -1) return text\n  // Remove trailing slash\n  if (i === text.length - 1) {\n    return text.substring(0, i)\n  }\n\n  const hostname = text.substring(0, i)\n  const pathname = text.substring(i)\n\n  // Hide large paths similarly to how twitter does it\n  return pathname.length > 20\n    ? `${hostname}${pathname.substring(0, 15)}...`\n    : text\n}\n\nexport const A = (p) => (\n  <a\n    href={p.href}\n    target='_blank'\n    rel='noopener noreferrer'\n    title={p.title || p.href}\n    className={cs('static-tweet-anchor', p.className)}\n  >\n    {p.children[0] === p.href ? beautifyHref(p.href) : p.children}\n  </a>\n)\n","import React from 'react'\n\nexport const Ul = (p) => <ul {...p} />\n\nexport const Ol = (p) => <ol {...p} />\n\nexport const Li = (p) => <li {...p} />\n","import React from 'react'\n\nexport const Table = (p) => (\n  <div className='table-container'>\n    <table {...p} />\n  </div>\n)\n\nexport const Th = (p) => <th {...p} />\n\nexport const Td = (p) => <td {...p} />\n","import React from 'react'\nimport Image from 'next/image'\n\nexport const Img = ({ width, height, src, dataUrl, ...p }) => {\n  const image = (\n    <Image\n      {...p}\n      src={`${src}&name=small`}\n      quality={80}\n      alt={`Tweet image ${src}`}\n      fill\n      sizes='100vw'\n      style={{\n        objectFit: 'cover'\n      }}\n    />\n  )\n\n  return (\n    <details className='static-tweet-details'>\n      <summary\n        className='static-tweet-summary'\n        style={{\n          paddingBottom: `${(height / width) * 100 || 0}%`\n        }}\n      >\n        {dataUrl ? (\n          <a\n            href={dataUrl}\n            className='avatar'\n            target='_blank'\n            rel='noopener noreferrer'\n          >\n            {image}\n          </a>\n        ) : (\n          <div className='avatar'>{image}</div>\n        )}\n      </summary>\n    </details>\n  )\n}\n","import React, { Fragment } from 'react'\nimport cs from 'clsx'\n\nimport formatDistanceStrict from 'date-fns/formatDistanceStrict'\n\nexport const TwitterLink = (p) => (\n  <a\n    href={p.href}\n    target='_blank'\n    rel='noopener noreferrer'\n    title={p.title || p.href}\n    className='static-tweet-twitter-link'\n  >\n    <s>{p.type}</s>\n\n    {p.children}\n  </a>\n)\n\nexport const Mention = (p) => (\n  <TwitterLink href={p.href} type='@'>\n    {p.children[0].replace(/^@/, '')}\n  </TwitterLink>\n)\n\nexport const Hashtag = (p) => (\n  <TwitterLink href={p.href} type='#'>\n    {p.children[0].replace(/^\\#/, '')}\n  </TwitterLink>\n)\n\nexport const Cashtag = (p) => (\n  <TwitterLink href={p.href} type='$'>\n    {p.children[0].replace(/^\\$/, '')}\n  </TwitterLink>\n)\n\nexport const Emoji = ({ className, ...p }) => (\n  <img className={cs('static-tweet-emoji', className)} {...p} />\n)\n\n// Note: Poll data is most likely cached, so ongoing polls will not be updated\n// until a revalidation happens\nexport const Poll = ({ data }) => {\n  const votesCount = data.options.reduce(\n    (count, option) => count + option.votes,\n    0\n  )\n  const endsAt = new Date(data.endsAt)\n  const now = new Date()\n\n  return (\n    <div className='static-tweet-poll'>\n      <div className='static-tweet-options'>\n        {data.options.map((option) => {\n          const per = Math.round((option.votes / votesCount) * 100) || 0\n          const width = per || 1 + '%'\n          const widthLabel = per + '%'\n\n          return (\n            <Fragment key={option.position}>\n              <span className='static-tweet-label'>{option.label}</span>\n              <span className='static-tweet-chart' style={{ width }}></span>\n              <span>{widthLabel}</span>\n            </Fragment>\n          )\n        })}\n      </div>\n      <hr />\n      <div className='static-tweet-footer'>\n        <span className='static-tweet-votes-count'>{votesCount} votes</span>\n        <span>\n          {now > endsAt\n            ? 'Final results'\n            : `${formatDistanceStrict(endsAt, now)} left`}\n        </span>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Image from 'next/image'\n\nexport default function TweetHeader({ tweet }) {\n  const authorUrl = `https://twitter.com/${tweet.username}`\n  const tweetUrl = `https://twitter.com/${tweet.username}/status/${tweet.id}`\n  const avatar = tweet.avatar.normal\n\n  return (\n    <div className='static-tweet-header'>\n      <a\n        href={authorUrl}\n        className='static-tweet-header-avatar'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <Image\n          className='static-tweet-header-rounded'\n          src={avatar}\n          alt={tweet.name}\n          height={36}\n          width={36}\n        />\n      </a>\n\n      <a\n        href={authorUrl}\n        className='static-tweet-header-author'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <span className='static-tweet-header-name' title={tweet.name}>\n          {tweet.name}\n        </span>\n\n        <span\n          className='static-tweet-header-username'\n          title={`@${tweet.username}`}\n        >\n          @{tweet.username}\n        </span>\n      </a>\n\n      <a\n        href={tweetUrl}\n        className='static-tweet-header-brand'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <div\n          className='static-tweet-header-icon-twitter'\n          title='View on Twitter'\n          role='img'\n        />\n      </a>\n    </div>\n  )\n}\n","export default function formatNumber(n) {\n  return n.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n}\n","import React from 'react'\nimport cs from 'clsx'\nimport format from 'date-fns/format'\n\nimport formatNumber from '../../../format-number'\n\nexport default function TweetInfo({ tweet, className = undefined }) {\n  const likeUrl = `https://twitter.com/intent/like?tweet_id=${tweet.id}`\n  const tweetUrl = `https://twitter.com/${tweet.username}/status/${tweet.id}`\n  const createdAt = new Date(tweet.createdAt)\n\n  return (\n    <div className={cs('static-tweet-info', className)}>\n      <a\n        className='static-tweet-like'\n        href={likeUrl}\n        title='Like'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <div className='static-tweet-heart'>\n          <div\n            className='static-tweet-icon static-tweet-icon-heart'\n            role='img'\n          />\n        </div>\n\n        {(tweet.heartCount || tweet.likes > 0) && (\n          <span className='static-tweet-likes'>\n            {tweet.heartCount || formatNumber(tweet.likes)}\n          </span>\n        )}\n      </a>\n\n      {createdAt && (\n        <a\n          className='static-tweet-time'\n          href={tweetUrl}\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <time\n            title={`Time Posted: ${createdAt.toUTCString()}`}\n            dateTime={createdAt.toISOString()}\n          >\n            {format(createdAt, 'h:mm a - MMM d, y')}\n          </time>\n        </a>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport TweetHeader from './tweet-header'\nimport TweetInfo from './tweet-info'\n\nexport default function Tweet({ children, data }) {\n  return (\n    <div className='static-tweet-body'>\n      <blockquote className='static-tweet-body-blockquote'>\n        <TweetHeader tweet={data} />\n        {children}\n        <TweetInfo tweet={data} />\n      </blockquote>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport Node from '../../html/node'\nimport components from './index'\n\nexport default function EmbeddedTweet({ ast }) {\n  return <Node components={components} node={ast} />\n}\n","import { Div } from './containers'\nimport { H1, H2, H3, H4, H5, H6 } from './headings'\nimport { P, Blockquote, Hr } from './text'\nimport { Code, Pre } from './code'\nimport { A } from './anchor'\nimport { Ul, Ol, Li } from './lists'\nimport { Table, Th, Td } from './table'\nimport { Img } from './media'\nimport { Mention, Hashtag, Cashtag, Emoji, Poll } from './twitter'\nimport Tweet from './tweet/tweet'\nimport EmbeddedTweet from './embedded-tweet'\n\nexport default {\n  div: Div,\n\n  h1: H1,\n  h2: H2,\n  h3: H3,\n  h4: H4,\n  h5: H5,\n  h6: H6,\n\n  p: P,\n  blockquote: Blockquote,\n  hr: Hr,\n\n  code: Code,\n  pre: Pre,\n\n  a: A,\n\n  ul: Ul,\n  ol: Ol,\n  li: Li,\n\n  table: Table,\n  th: Th,\n  td: Td,\n\n  img: Img,\n\n  Mention,\n  Hashtag,\n  Cashtag,\n  Emoji,\n  Poll,\n\n  Tweet,\n  EmbeddedTweet\n}\n","import React, { forwardRef } from 'react'\nimport cs from 'clsx'\n\nimport Node from './html/node'\nimport components from './twitter-layout/components'\n\ninterface TweetProps {\n  ast: any\n  caption?: string\n  className?: string\n  // TODO: understand what br is used for\n  // br?: string\n}\n\nconst Tweet = forwardRef<HTMLElement, TweetProps>(\n  ({ ast, caption, className }: TweetProps, ref) => {\n    if (!ast?.length) {\n      return null\n    }\n\n    return (\n      <article ref={ref} className={cs('static-tweet', className)}>\n        <Node components={components} node={ast[0]} />\n\n        {caption && <p className='static-tweet-caption'>{caption}</p>}\n      </article>\n    )\n  }\n)\n\nexport { Tweet }\n"],"names":["getContainerClassName","dataType","split","type","count","div","props","components","i","data","React","createElement","Tweet","key","children","Poll","className","img","_excluded","Emoji","src","alt","a","Mention","href","Hashtag","Cashtag","EmbeddedTweet","title","blockquote","process","env","NEXT_PUBLIC_TWITTER_LOAD_WIDGETS","isEmbeddedTweet","includes","ast","Blockquote","defaultHandler","name","Comp","handleNode","node","undefined","handler","handlers","tag","console","error","nodes","Array","isArray","join","map","element","Node","Div","p","Permalink","id","H1","H2","H3","H4","H5","H6","P","cs","Hr","Code","Pre","PROTOCOL","beautifyHref","text","replace","indexOf","length","substring","hostname","pathname","A","target","rel","Ul","Ol","Li","Table","Th","Td","Img","width","height","dataUrl","image","Image","quality","fill","sizes","style","objectFit","paddingBottom","TwitterLink","votesCount","options","reduce","option","votes","endsAt","Date","now","per","Math","round","widthLabel","Fragment","position","label","formatDistanceStrict","TweetHeader","tweet","authorUrl","username","tweetUrl","avatar","normal","role","formatNumber","n","toString","TweetInfo","likeUrl","createdAt","heartCount","likes","toUTCString","dateTime","toISOString","format","h1","h2","h3","h4","h5","h6","hr","code","pre","ul","ol","li","table","th","td","forwardRef","ref","caption"],"mappings":"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"}